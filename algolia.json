[
    {
        "title": "Hello",
        "date": "2019-09-26T06:16:34.000Z",
        "description": "",
        "draft": false,
        "tags": [
            "hello"
        ],
        "categories": [
            "hello"
        ],
        "uri": "https://linuxyunwei.com/content/hello",
        "content": "Hello World",
        "objectID": "https://linuxyunwei.com/content/hello"
    },
    {
        "title": "kubeadm 安装单master集群",
        "date": "2019-11-18T11:12:02.000Z",
        "description": "",
        "draft": false,
        "tags": [
            "kubeadm",
            "kubernetes"
        ],
        "categories": [
            "kubernetes"
        ],
        "uri": "https://linuxyunwei.com/content/posts/kubeadm 安装单master集群",
        "content": "nginx k8s ingress kubernetes kube kubelet io config Running master node v1 controller 16.3 created kubeadm cluster 10 节点 kubectl proxy system etcd certs service registry containers google cn authorization docker aliyuncs kubeconfig namespace wireguard yaml hangzhou boot rbac app 14 token conf plane el7 key control kind 集群 apiserver pod local Generating file certificate metallb calico default true lib ipvs images m0s speaker yum NotReady x86 elrepo configuration 插件 coredns scheduler https image start modules 22 15 NAME systemd apiVersion role 配置 svc cat 64 AGE modprobe root realtek Ready Writing Found 查看 版本 状态 preflight serviceaccount IP STATUS busybox calicoctl manager flannel metadata BGP clusterrole bootstrap part Kubernetes usr configmap 10.64.144.100 status 16 18 var Pulled 5.6.13 网络 镜像 user img services ca DNS m21s HOME mesh 1. nodes 10.96.0.10 port Creating POD install manifests Established enable initramfs 官方 初始化 部署 安装 ko kernel NAMESPACE labels linux admin Docker 21 manifest apply 80 CNI LoadBalancer cert client pods Pod 3.10.0 Using static worker ConfigMap false vmlinuz enabled support 环境 网卡 操作 加载 网段 配置文件 测试 参考 修改 c766df46 grub2 init grep id join WireGuard m36s You add apps 443 binding nfconntrack nisa 605 udp null org uname 67 Node spec READY Calico VERSION d7cb0e sudo 16384 172.16.0.0 This RBAC RESTARTS fb37fed0895d3 h0m0s systemctl 0.0.0.0 1.16.3 initrd flags TCP 默认 支持 内核 内核模块 负载 二层 下载 folder 30 ipvsrr env The iptables ipvssh 34 node02 EOF CoreDNS addons 127.0.0.1 node03 auto mkdir ms names node01 node04 node05 node06 64. 6443 IPs cgroup pki chrony disabled clusterrolebinding r8169 27 code configured conntrack rules Bootstrap server dns serving upload export Metallb signed wait curl info daemon swap sysctl sysconfig tcp 20 dev drivers docs 3.3.15 ROLES dtype type verbs v1beta1 Pending 10254 Service Address 列表 阿里 地址 命令 文档 运行 组件 均衡器 创建 生成 模块 自动 系统 重启 添加 模式 方式 12 10.64.144.105 255 1062.4.1. exited 31 SELINUX CCM httpGet fieldPath 官网 Run flight githubusercontent CRI grub CSRs hash healthz healthzBindAddress Shanghai TYPE 1.28 11 Unit http hosts ip Waiting 33 ipvswrr Welcome kjd9f 10.64.144.106 adding 3947 addon list localhost lsmod annotations apiGroup m40s apiGroups m44s 4097349 EXTERNAL mapper mark application args authentication minSyncPeriod 10.96.0.0 1.6.2 48 Flannel bash mode native net network networking nf nfnat 10.96.0.1 c950a4862a8fab2587d598af7 nodefs nslookup HTTP oomScoreAdj openssl options overlay2 projectcalico oyaml centos IPIP path pause peer perform periodSeconds cfg IPv6 cgroupdriver checks chmod ports chown pre cidr prometheus protobuf protocol Jan public pull 8.3 rand raw command components 100 release required rescue KubeProxyConfiguration subjects resources KubeletConfiguration connection roleRef rolebinding run containerPort running 9.11.4 rwxr contentType sbin scheme 957. sed selector selinux 999 Marking cp serviceSubnet sha256 signing v1beta2 10.64.144.101 Mi vnd Applied d5pp successThreshold successfully ARP daemonset data 18.09.9 dcabbe4b86492eb5da1f22c2a24fb1b5698557185abd481d858eda25a8d926aa syncPeriod taints targetPort Activating 10.64.144.103 timeoutSeconds NoSchedule tokens dig 10.64.144.104 discovery Nov 24 update exec 10.64.144.102 failed P2 v0 valueFrom PEER version v3 failureThreshold driver fi watcher echo webhook fieldRef grubby 3.1 filesystem www xfs found front Asia ftype environment ServiceAccount 1.16 eq fsSL hex essential 生效 可选 执行 同步 功能 关闭 后续 访问 驱动 提示 开机 禁用 以使 改动 发现 容器 对接 推荐 存储 永久 一条 开启 忽略 基准 一款 流量 均衡 提供 参数 国内 自启动 数据源 加密传输 通信 同一时 确保 本机 裸机 设置 实验 性能 报错 启动 子网 暂时 等待时间 临时 Pulling ethernet eventBurst eventRecordQPS evictionHard evictionPressureTransitionPeriod examples excludeCIDRs 32768 RHEL7 exit CALICODATASTORETYPE externalTrafficPolicy CALICOIPV4POOLCIDR Reading failSwapOn RedHat CALICOIPV4POOLIPIP family Reformat fbs7t felixconfiguration 0.26.1 Result Role RoleBinding fileCheckFrequency Roles 31832 filesystems CHANGELOG CLUSTER 1062.4.3. User font force formatted ClusterConfiguration Runtime 拉取 SECCOMP CONFIG fstab gcr CONFIGUSERNS SINCE global graphdriver SLB groups STATE 板载 hairpinMode Server CST hc8m healthcheck 300 healthy Skipping healthzPort Storing Canal hlv2h hostname 110 hostnameOverride 12600 08 30219 httpCheckFrequency CentOS7 Centos hv8zt Successfully Tahoma imageGCHighThresholdPercent imageGCLowThresholdPercent imageMinimumGCAge Certificate imageRepository Then imagefs Cloud incorrect informed To Thank initialDelaySeconds Token initialized ClusterRole initializing TLS inodesFree ClusterRoleBinding installed 高亮行 internet Commercial VXLAN ip6udptunnel Verdana iptablesDropBit iptablesMasqueradeBit WARNING ipv4 Configure Watch Weave joined 12644 Configuring Webhook json Container kkssc kmod Containerd XFS kubeAPIBurst 34.001666 Controller YUM kubeAPIQPS Your kubelets acceptContentTypes kubeproxy action kubernetesVersion 10.64.144.150 12688 35 Created activating label launching adapted leader leads leaked libblake2s libchacha20poly1305 libcrc32c libcurve25519generic lifecycle DaemonSet address line addresses linux16 12697 4.19 DiG listed livenessProbe ln administration loaded advertiseAddress localAPIEndpoint ago localtime 40 Docs long lsinitrd allowPrivilegeEscalation lv Downloading lvm lvm2 anonymous m10s 10.64.144.200 40960 Drop answer m34s m39s m41s apiServer m6s mDNS makeIPTablesUtilChains Error apiclient margin 127880 43 masqueradeAll masqueradeBit matchLabels maxOpenFiles ExecStart approve maxPerCore maxPods memory FYI merge Features metricsBindAddress mg76 min 13 minute FelixConfiguration automatically minutes mirror b47d4 mirrors backing mkconfig mkinitrd mod 5. For behavior bin multi bindAddress mwkqr 131072 bindPort Further namespaces body nbt4b Gbit networkName 53248 Generally bootstrapTokens nfconntracknetlink bootstrappers nfnatipv4 bridge nfnatmasqueradeipv4 bug noarch 139224 57 Github burst Got nodeLeaseDurationSeconds HEADER nodePortAddresses nodeRegistration nodeSelector cacheAuthorizedTTL nodeStatusReportFrequency cacheTTL nodeStatusUpdateFrequency cacheUnauthorizedTTL caclico number Here online capabilities order INFO os p4s45 page parameter 14.0 patch certificateDir patched certificates peers certificatesDir pending 65895 IPv4 persistent phase phy cgroupDriver plugin podPidsLimit 145497 podSubnet If cgroupsPerQOS podnetwork change podsecuritypolicy In policy portRange 69 InitConfiguration post preStop prefix Install preload preset preview 10.96.76.163 print 7. Installation clientCAFile process clientConnection Installing promiscuous clusterCIDR 7.7 clusterDNS ps7gt clusterDomain publish pure K8S clusterName qps qr98t quay KUBECONFIG query quiet r2w74 cm r8168 KUBELETCONFIGARGS cmd KUBELETEXTRAARGS readinessProbe reading reboot received KUBELETKUBEADMARGS component refer registryBurst registryPullQPS 85 KUBELETKUBECONFIGARGS concepts regular reload Kube repo repos configMapAndSecretChangeDetectionStrategy request 86016 configSyncPeriod reserved resolv resolvConf Kubelet configmaps resource response configs restart 898 rfm rfsjl rhgb ro connections 9. LoadBalance rotateCertificates rotation rpm containerLogMaxFiles rr8q containerLogMaxSize 1000000 runAsUser Loaded runtimeRequestTimeout sa Local content sans scrape Main seconds secure controllerManager securityContext Manager controllers serializeImagePulls serif cpuCFSQuota serviceAccountName Master cpuCFSQuotaPeriod cpuManagerPolicy set setenforce ADDRESS MetalLB cpuManagerReconcilePeriod setting crashkernel sf share create shutdown 1.11 10248 18.06.2 skdk credentials sock software criSocket solution Multicast crt sourceVip ALB csrapprover speed srb88 starting curve25519x86 state curve25519x8664 staticPodPath d4d547dd6 storage 18.09 ALL NETBINDSERVICE streamingConnectionIdleTimeout strictARP Name d8bm Namespace supported swapoff swappiness symlink 10249 Necessary dataDir syncFrequency AWS Network defaults Networking deined target depending tcpCloseWaitTimeout Never deploy tcpEstablishedTimeout template deployment term terminationGracePeriodSeconds No details test testing timeoutForControlPlane Active device timezone tm7jz CALICO directory tools topologyManagerPolicy ttl tunnel tx57 dnsDomain udpIdleTimeout 10250 2019 Agent OP5d3RVhBK7FE9tJ6l dockerhub usages dockershim usernamespace Optional utils documentation Aliyun drain v1alpha1 PC validated All drop vendor versions dv2rh vfpfv 27360 PID eG38isdiy3LHzfqPzBSwI34 vm volumeStatsAggPeriod effect web PORT website width em winkernel Arguments wireguardEnabled en wireguardPublicKey Thu woker working Permission enableControllerAttachDetach wrr enableDSR x509 Runntimes Arial Please enableDebuggingHandlers x8664 enableProfiling xfsinfo xtconntrack endpoints yml zfq56 Pods enforceNodeAllocatable zoneinfo enforcing zvzv SELinux 07 Policy entered 250 Process Proxy epel 10256 error Backing 字段 开源 网络通信 路由 服务 不到 信息 重载 处于 选择 挂载 文件系统 线下 域名 加密 关键字 降级 序号 管理 所示 注意事项 操作系统 之间 数据库 用到 启用 主机 没关系 时会 解析 工作 列出 就行 时间 顺便 最强 情况 目前为止 三条 穷人 就行了 额外 验证 广播 选用 识别 搜索 软件 目录 尝试 名为 所需 检验 缺少 小于 主流 输出 连接 自行 有没有 即可 物理 答案 适合 确认 不禁 错误 正确 保存 更好 详细 可达 记得 提前 程序 相互 平台 失败 加速 工具 检查 类似 规划 协议 方案 本次 却是 类型 两种 多种 简单 介绍 标准 办法 用于 减少 导致 代表 几个 超过 生产 这是 两个",
        "objectID": "https://linuxyunwei.com/content/posts/kubeadm 安装单master集群"
    },
    {
        "title": "使用Kubeadm更新集群",
        "date": "2020-05-20T11:17:26.000Z",
        "description": "",
        "draft": false,
        "tags": [
            "kubeadm",
            "kubernetes"
        ],
        "categories": [
            "kubernetes"
        ],
        "uri": "https://linuxyunwei.com/content/posts/kubeadm更新集群",
        "content": "upgrade k8s 20 kube kubelet master v1 kubeadm pod staticpods kubernetes Running apiserver config Static node hash 4202 2904 etcd 11 17.5 27 May version component kubectl I0520 19 prepull node01 system manager scheduler controller configuration 节点 16.3 e541261a584becf7ccd0ebc447ad6965 cluster image yaml 47 upgraded service certificate apiclient manifests selector default label 28 Found Pods 1.17.5 apply 10 Renewing CoreDNS preflight 升级 Ready restart Node proxy manifest 180 版本 versions curl CoreDNSUnsupportedPlugins calico 2020 16.9 lib You conf bootstrap cni ignore file plane app x86 disableexcludes 05 systemd istio systemctl 64 usr IP yum control scheme successfully client tmp Corefile install errors var oyaml Making whoami Waiting worker local RBAC 1.17 remote timeout COMPONENT backup Component cm NAME longer AGE FYI 29 10.96.0.10 depending Preparing docker gap ConfigMap Agent 53 Prepulling Moved Prepulled kubeconfig run m0s minute Reading unsupported 127.0.0.1 CURRENT AVAILABLE backed This plugins start 污点 addons configured coredns correct 59 10.96.179.57 evicted kubeletnodestatus Pod Upgrading namespace woker flight Writing svc STATUS token Server pre Some 1.18. rules The checks stable 16 集群 synchr e8486b59c2c8408b07026a560746b02c active CGroup addon uncordoned Host 1.6.2 CSRs vendor webhook b4bb9c787 xz87j 17 Cluster command 1.6.5 Controller components ccResolverWrapper daemonsets 172.16.217.76 clientconn dig images Docs Downloading cordoned Drop 10.96.0.1 E0520 ERROR d86fcdbd639f4fd16605f99fbffa6e4 Etcd daemon data dc67fbb delete 1844 deleted GET disabled dockershim docs drain dummy HTTP Hint e58d3548072b341a6faa0bbf8427dc ellipsized enabled Hostname essential executing In fallback uncordon 21 Info fatal update Kubelet Kubernetes full Latest Loaded 48 Main 50 1.1 healthy Manager Master https Memory 54 io 24 546565776 kjbqv tekton bin registered 577 kubelets Never latest lines Tasks Now loaded series PID Components 694 manually skipping Kube network Proxy status Wed switching VERSION nodes 12 ROLES ode01 ops ago RemoteAddr 83 package parsed passthrough pick pipelines plan Scheduler CST Setting API preset proceed www ClientConn Accept reload Active balancer rm Address running runtime Applied sending server cc Upgrade short show User slice sock W0520 3.3.15 Bootstrap WARNING 操作 安装 更新 打上 重启 驱逐 服务 验证 忽略 解除 查看 测试 版本升级 确认 配置文件 检查 successful BuildDate Will 28.842260 CBEE X2JX Your term 28.857932 tokens trace true ahead CLUSTER amd64 updating upgrading upload approve authorization vmnbp automatically back xqn zqhcb baidu 为例 17.2 3.3.17 busybox Compiler 1.17.0 3.4.3 cb0329ceca81a08d2613d2eafe96927f certificates cgroup 30 cgroupDriver change 33338 check ContainersRunning 04 chosen clean 1.17.1 355 clusters 07.623240 35506 Creating 重试 38 DEV DNS configmap 18 38.0 Docker confirm 394 controllers Containers 18.2 40 credentials cri csrapprover curlimages 41 EXTERNAL d4d547dd6 Enjoy d8bm 42 d8e79ec2b72cfad2458fb03205bc653 FBTT Fetching dfbd64b 47.297946 GG2 dnccs GitCommit dns 47.298023 GitTreeState dockerservice GitVersion driver 1.17.2 47.305372 GoVersion dtype 47.305387 e0fccafd69541e3750d460ba0f9743b90336f24f 47.305408 error 47.305415 ID evicting execute 47.305433 If f55aa1d6eb94a8c4eca4c5f027fb643 f625031b63d8f30d971821233b1d59 failed 47.305438 falling 47.305446 front 214 47.305450 gc github go1 grep grn6t MK3I gxr haven 1.17.3 11.882414 22 Major healthcheck higher hlv2h hosted hqp75 23 537 http infra Migrating 112 Minor issue 57 N5ST 25.9 Name Namespace kuberuntime 1.17.4 112.80.248.75 251 Not linux list OQC7 long 6896 ltwdr 260 PORT make Platform 7.29.0 manifests198557268 112.80.248.76 metrics 7.70.0 mode nbt4b 70 newer ngc QV6C nnlz 273 73 node02 node03 READY node04 tered CGLJ node05 747 RESTARTS node06 nslookup 77 occurred CJOH order 80 p47g updated 28625 28.637150 p4s45 p5mn8 SP3N peer 86845 phase SUCCESS 28.637283 981 plugin vfpfv pods post 28.637397 Skipping prepulled Storing pzlj qngn Successfu qrnb7 13.9 28.638934 read Successfully ready ClusterIP T11 TCP TLS rotation 28.653131 TYPE rts sandbox 15 28.653222 To Token Are setters shifen 28.657774 Attemptin showduplicates Containe 07 1.17. 1.28 BI53 srb88 28.659901 stack 执行 文档 组件 再以 步骤 警告 单个 访问 参考 官方 参数 想要 即可 可用 一套 记录 多个 最新 命令 配置 本次 状态 功能 信息 选择 支持 方法 系统 相关 特别",
        "objectID": "https://linuxyunwei.com/content/posts/kubeadm更新集群"
    },
    {
        "title": "在阿里云ECS中部署k3s+Higress",
        "date": "2025-01-13T16:47:00.000Z",
        "lastmod": "2025-01-14T02:31:22.000Z",
        "showToc": true,
        "TocOpen": false,
        "ShowReadingTime": true,
        "ShowBreadCrumbs": true,
        "ShowPostNavLinks": true,
        "ShowWordCount": true,
        "ShowRssButtonInSectionTermList": true,
        "UseHugoToc": true,
        "tags": null,
        "categories": null,
        "share": true,
        "draft": false,
        "dir": "",
        "description": "",
        "author": "Xijun Dai",
        "uri": "https://linuxyunwei.com/content/posts/在阿里云ECS中部署k3s+Higress",
        "content": "higress httpbin k3s linuxyunwei io INFO system helm yaml v1 true TLS service https TLSv1 kubectl local ECS TCP handshake IP http 证书 IN systemd curl apiVersion Creating License tls metadata spec file bin kind disable usr 101.37.18.109 version rancher 部署 Ingress Higress NAME Envoy namespace 443 2.0.6 core 镜像 指定 网关 console ingress SSL cn app Host Certificate symlink server 200 type ip Running node AGE kustomize time 1.1 controller traefik 2025 created resources sh values 禁用 访问 仓库 地址 操作系统 配置 默认 HTTP 10 encrypt k8s Mi signed automaticHttps export dockerproxy port OUT default 8000 Public 31.4 metrics cpu k3s1 30 host level replicas m33s v2 secBits memory key kube 公网 Helm Bits 64 19 mirror net GMT date repo Server requests chart root 创建 阿里 文件 更换 域名 环境 选择 内容 集群 内网 添加 charts user verify 01 04 cipher external apply ALPN control 私网 coredns 03 拉取 Agent envoy deploying distributed download enabled 官网 gateway gateways headers PUBLIC helmCharts CN READY start REGISTRY RESTARTS install Request istio PRIVATE killall kubernetes kustomization labels release letsencrypt secret 20 DNS network networking Ticket Downloading path MIRROR User STATUS EC policy Address env VERSION 8080 registry Version cert certificate certs req email access Finished add sha256WithRSAEncryption selector 127.0.0.53 binary Forwarded alibaba false pods ports Newsession content 8.5.0 uninstall 2.0.2 copy ssl 80 apps status automatic sudo cluster script 15 secretName docker Jan Accept 2.0 template 开启 路由 参考 修改 关机 自动 工具 签发 登录 操作 替换 验证 切换 方式 查看 参数 登录名 续费 用户 生成 安装 习惯 配置文件 停止 暂时 申请 命令 text tlsIssuer tlsSecret 854 builtins trustDomain txt cd unit usage 8888 cdf74fc users utf ID v1beta1 8889 certificates v3 vj9z5 channel writing charset www 14 99 INSTALLK3SMIRROR 为例 ADDRESS clean 云盘 IPv6 IS compliance config configmap Id configured connection 267 Identifier 00 containerPort IfNotPresent containers Apr ANY Ins APP OK Installation cost AS Installing crd Internal Built 存储配置 Istio credentials crictl 15012 crt ctr NAMESPACE 15.0 KIND d4d797fc6 20250118113351 d68f85d 15010 data Kustomization Kustomize Apache LICENSE disableAlpnH2 22.7 Let discovery Licensed 未指定 0.6 dockerhub LoadBalancer docs 服务器上安装 ecPublicKey domains 24.04 Local e5a Authors ecdsa ecs Management edit 10.42.0.1 Attempt enableGatewayAPI 2456868764 enableIstioAPI enablePrometheusMerge BASIS enableStatus 空放 feat 256 deployment OR environment BuildInfo expire Non Namespace express OF 15014 externalTrafficPolicy f4ffff868 CAfile fallbackForInvalidSecret CApath Operation github global Options gmail daixijun1990 go1 3.16.4 CERT Original governing PORTS h2 CHART hash helmchartinflationgenerator CLASS Prefix hgctl Proto hosts Pull 15051 CONDITIONS id image imagePullPolicy implied ingressClass RPM ingressClassName installation 31368 Change RSA installed intact Client Req internal 10.43.18.51 152 31372 Configuration Route issuer SELinux Connected SHA384 32 Connection SSH language Copyright Secret law left 16.4 37 Count See length licenses Service limitations Created ServiceAccount Skipping logs 384 m36s Snapcrafters m44s m45s Start m5hn matchLabels DATA Starting matched Sun mccutchen 1737260136218 4096 DESCRIPTION T19 meshConfig mkdir multi Decorator TLSAES256GCMSHA384 TYPE nslookup Deployment number obtain offers Time org 1737261452765 443... Trying origin pathType UI paths permissions E6 US pilot plain 449 Ubuntu pod Unless prime256v1 Using provisioner bf98143d r2wcz 08 11 1737261452767 53 Enabling VPC references ca Verifying releaseName upstream cd47 Encrypt releases removing renewBeforeDays WARRANTIES replicaCount 568 Encrypted WITHOUT Waiting repositories change watchNamespace X25519 required You resolved 18 resp Extensions a91478a5f restart classic IPv4 accepted rootNamespace 云为例 Finding rules s5q4k 749 acmeIssuer search secp384r1 added For agreed ak serviceAccountName 7877 serviceaccount servicelb session amd64 settings GET answer sfL apache sha256sum show sk snap snapd GitCommit applicable software 192 specific GitHub stable arrive stale GitTreeState authoritative storage credentialConfig subject subjectAltName GoVersion svc Name autoscaling K8s HOSTS autoscalingv2API tail target 1. 128 b45b63f95635153b29a42c0c2f4273ec45ca targetPort HPA backend tee 字段 运行 找到 状态 发行版 功能 控制台 代劳 服务 日志 用不上 初始化 单机 邮箱 选好 干点 专属 控制器 自带 文件名 组件 管理 国内 加速器 排查 原生 用到 点击 解析 改成 短信 对接 存储 试试 端的 托管 情况 就行了 一台 最少 终端 生效 用不着 下方 涨价 我会 目录 事先 尝试 订单 名为 定义 代理 官方 外部 一会 脚本 命名 到期 提示 收到 身份 确认 一套 记录 包含 未能 名称 设置 网络 想着 大陆 多个 一步 是从 协议 已有 是因为 策略 购买 执行 去年 用于 空间 建议 处于 业务 控制 活动 提供 地区 企业 工作",
        "objectID": "https://linuxyunwei.com/content/posts/在阿里云ECS中部署k3s+Higress"
    }
]